(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(54)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),c=n.n(r),l=n(13),i=(n(31),n(5)),s=(n(32),n(7)),u=n(6),m={files:{},currentFile:{}},h=function(e,t){switch(t.type){case"UPDATE_FILES":return Object(u.a)({},e,{files:t.payload});case"UPDATE_CURRENT_FILE":case"UPDATE_CURRENT_FILE_CONTENT":return Object(u.a)({},e,{currentFile:t.payload});case"UPDATE_LOADING":return Object(u.a)({},e,{loading:t.payload});default:return Object(u.a)({},e)}},f=Object(a.createContext)(m),d=function(e){var t=Object(a.useReducer)(h,m),n=Object(s.a)(t,2),r=n[0],c=n[1];return o.a.createElement(f.Provider,{value:{state:r,dispatch:c}},e.children)},p=(n(33),function(e){var t=Object(a.useContext)(f),n=t.state,r=t.dispatch,c=e.data,l={className:"file",onClick:function(t){t.preventDefault(),t.stopPropagation(),r({type:"UPDATE_CURRENT_FILE",payload:c});var n="http://localhost:5000/path/"+c.filename;fetch(n).then(function(e){return e.json()}).then(function(e){r({type:"UPDATE_CURRENT_FILE_CONTENT",payload:Object.assign({},c,{content:e.content})})}).then(function(){e.history.push("/path/"+c.filename)})}},i=[];return(n.currentFile.filename===c.filename||e.location.pathname.indexOf(c.filename)>-1)&&i.push("active"),o.a.createElement("li",l,o.a.createElement("a",{href:"#/path/"+c.filename,className:i.join(" ")},c.docstring))}),b=n(10),y=n.n(b),E=function(e){var t=function(e,t){var n=t.split("."),a=!0,o=!1,r=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var i=c.value;if(e.indexOf(i)>-1)return!0}}catch(s){o=!0,r=s}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return!1}(y()().location.pathname,e.name),n=Object(a.useState)(t),r=Object(s.a)(n,2),c=r[0],l=r[1],i=["folder"];c&&i.push("folder-open");var u=e.name.split(".").pop(),m={className:i.join(" "),onClick:function(e){e.stopPropagation(),l(!c)}},h=c?e.children:null;return o.a.createElement("li",m,u,o.a.createElement("ul",null,h))},v=function(e){var t=Object(a.useContext)(f),n=t.state,r=t.dispatch;return 0===Object.keys(n.files).length&&fetch("http://localhost:5000/list/problems").then(function(e){return e.json()}).then(function(e){return r({type:"UPDATE_FILES",payload:e})}),o.a.createElement("div",{className:"file-browser"},o.a.createElement("ul",{style:{paddingLeft:"0"}},function e(t,n){return t.docstring?o.a.createElement(p,Object.assign({data:t},n)):Object.keys(t).reduce(function(a,r){return r.indexOf("session")>-1?a:a.concat([o.a.createElement(E,{key:r,name:r,data:t[r]},e(t[r],n))])},[])}(n.files,e)))},O=(n(43),n(44),n(45),n(12),n(25)),j=n.n(O),g=(n(52),n(53),function(e){return o.a.createElement("div",{className:"no-file"},o.a.createElement("div",{className:"no-file__msg"},o.a.createElement("div",{className:"no-file-header"},"\ud83c\udf89\ud83c\udf8a Hello, Wrold! \ud83c\udf8a\ud83c\udf89"),o.a.createElement("br",null),"Welcome! This UI allows you to run python code on your machine from within the browser environment. This obviates the need to rely heavily on terminal to run your practice problems and focus ",o.a.createElement("strong",null,"only")," on problem solving.",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{className:"no-file-footer"},"Happy coding! \ud83d\ude4c \ud83c\udf88\ud83d\ude4f")))}),N=function(e){var t=y()(),n=(t.history,t.location,t.match,Object(a.useContext)(f)),r=(n.state,n.dispatch,e.currentFile),c=Object(a.useRef)(null),l=c.current;if(0===Object.keys(r).length&&l)fetch("http://localhost:5000/pyversion").then(function(e){return e.json()}).then(function(e){var t=l.contentDocument;t.body.style.color="white",t.body.style.fontFamily="Roboto Mono",t.body.innerHTML=e.content});else if(l){var i=l.contentDocument;i.body.style.color="white",i.body.style.fontFamily="Roboto Mono",i.body.innerHTML=r.testContent}return o.a.createElement("div",{className:"terminal"},o.a.createElement("iframe",{ref:c,style:{border:"none",width:"100%",height:"100%"}}))},T=function(e){var t=y()(),n=t.history,r=t.location,c=(t.match,Object(a.useContext)(f)),l=c.state,i=(c.dispatch,l.currentFile,Object(a.useRef)(null),Object(a.useRef)(null)),m=Object(a.useState)({}),h=Object(s.a)(m,2),d=h[0],p=h[1],b=Object(a.useState)(!1),E=Object(s.a)(b,2),v=E[0];E[1];if("/"===r.pathname)return o.a.createElement(g,null);console.log(n,r);var O="http://localhost:5000"+r.pathname;fetch(O).then(function(e){return e.json()}).then(function(e){i.current.editor.setValue(e.content,-1)});var T=null,w=function(e,t){var n=O.replace("path",t);fetch(n,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(function(e){return e.json()}).then(function(e){p({testContent:e.content})})},C={};if(Object.keys(l.files).length>0){var R=r.pathname.split("/");C=R.slice(2,-1).concat([R.slice(2).join(".").replace(".py","")]).reduce(function(e,t){return e=e[t]},Object(u.a)({},l.files))}return o.a.createElement("div",{className:"editor"},o.a.createElement("div",{className:"terminal-bar"},o.a.createElement("div",{className:"terminal-bar-header"},C.docstring),o.a.createElement("div",{className:"terminal-bar-buttons "+(v?"terminal-bar-buttons--inactive":"")},o.a.createElement("div",{className:"terminal-bar-run",onClick:function(e){return w(0,"run")}},"Run"),o.a.createElement("div",{className:"terminal-bar-test",onClick:function(e){return w(0,"test")}},"Test"))),o.a.createElement(j.a,{placeholder:"Placeholder Text",mode:"python",theme:"monokai",name:"blah2",fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,onChange:function(e){clearTimeout(T),T=setTimeout(function(){fetch(O,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})}).then(function(e){})},250)},ref:i,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2,wrap:!0,useWrapMode:!0}}),o.a.createElement(N,{currentFile:d}))},w=function(e){return o.a.createElement("div",null,o.a.createElement(d,null,o.a.createElement(i.Route,{path:"/",component:v}),o.a.createElement(i.Switch,null,o.a.createElement(i.Route,{path:"/",exact:!0,component:T}),o.a.createElement(i.Route,{path:"/path",component:T}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(l.a,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.fdcc81ce.chunk.js.map